@model IEnumerable<ScalabiltyHomework.Data.Entity.LatestHero>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Latest HERO promotions</h2>

<table class="table">
    <tr>
        <th></th>
        <th>
            @Html.DisplayNameFor(model => model.PersonName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PromotionDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Comment)
        </th>
    </tr>

@foreach (var item in Model.OrderByDescending(h => h.PromotionDate).Take(10)) {
    <tr>
        <td width="70px">
            @*<img src="@item.Person.GetPicture()" class="avatar" alt="avatar" />*@
            <img src="@item.GetPicture()" class="avatar" alt="avatar" />
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.PersonName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.PromotionDate)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Comment)
        </td>
    </tr>
}
@if (Model.Count() == 0)
{
    <tr>
        <td colspan="4" align="center"><br>You don't have HEROes yet. Please go to People section to promote yours.<br><br></td>
    </tr>
}

</table>
